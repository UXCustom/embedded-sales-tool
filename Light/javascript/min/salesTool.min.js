$(document).ready(function(){function e(e,t){colorsObj[e]=t;var o=$("#sheet1").attr("href"),s=o.indexOf(".php"),i=o.substr(4,s-4);tempTxt="php/"+i+".php?"+$.param(colorsObj),$("#sheet1").attr("href",tempTxt)}var t=function(){var e=$(".demo-site-nav-list-item.selected").text(),t=$("#topicChoice option:selected").val(),o=$("#heroChoice option:selected").text(),s=$("#heroChoice option:selected").text(),i=$("#socialChoice option:selected").text(),a=$(".colorText1").text(),l=$(".colorText2").text(),r="mailto:?body=Site Type: "+e+"%0D%0ANumber of Topics: "+t+"%0D%0AHero Image: "+o+"%0D%0ALayout: "+s+"%0D%0ASocial: "+i+"%0D%0AColor Text 1: "+a+"%0D%0AColor Text 2: "+l;$(".demo-footer-button.demo-button-email").attr("href",r)};t();var o=function(){var e=[{id:"1",src:"images/hero/hero_images_01.jpg"},{id:"2",src:"images/hero/hero_images_02.jpg"},{id:"3",src:"images/hero/hero_images_03.jpg"},{id:"4",src:"images/hero/hero_images_04.jpg"},{id:"5",src:"images/hero/hero_images_05.jpg"},{id:"6",src:"images/hero/hero_images_06.jpg"},{id:"7",src:"images/hero/hero_images_07.jpg"},{id:"8",src:"images/hero/hero_images_08.jpg"}];$("#heroImageChoice").change(function(){var t=$("#heroImageChoice option:selected").val(),o=e.length;for(console.log(t),i=0;o>i;i++)e[i].id===t&&(console.log(e[i].src),$("#heroImageContainerInner img").attr("src",e[i].src))})};o(),$(".reset").on("click",function(){localStorage.clear(),window.location.reload()}),$(".pull").on("click",function(){$("#editWindow").toggleClass("open")}),$(".c1").spectrum({allowEmpty:!0,color:"#03a9f4",showInput:!0,containerClassName:"full-spectrum",showInitial:!0,showPalette:!0,showSelectionPalette:!0,maxPaletteSize:10,preferredFormat:"hex",localStorageKey:"spectrum.demo"}),$(".c2").spectrum({allowEmpty:!0,color:"#ff9800",showInput:!0,containerClassName:"full-spectrum",showInitial:!0,showPalette:!0,showSelectionPalette:!0,maxPaletteSize:10,preferredFormat:"hex",localStorageKey:"spectrum.demo"});var s=$(".c1").spectrum("get"),a=$(".c2").spectrum("get");$("span.colorText1").text(s),$("span.colorText2").text(a),colorsObj=new Object,$("input[type=color]").change(function(){colorKey=$(this).attr("class"),colorValue=$(this).val().replace("#",""),e(colorKey,colorValue);var t=($("#sheet1").attr("href"),$(".c1").spectrum("get")),o=$(".c2").spectrum("get");$("p.colorText1").text(t),$("p.colorText2").text(o)}),$("#moodChoice").on("change",function(){window.location="A"==$(this).val()?"../Center":"B"==$(this).val()?"../Dark":"./"}),$("#topicChoice").on("change",function(){"One"==$(this).val()?$("#micrositeWrapper nav").css("display","none"):$("#micrositeWrapper nav").css("display","block")}),$("#changeTitle").on("input",function(){$("#wayFinderContainer h1").text($(this).val()),""==$(this).val()&&$("#wayFinderContainer h1").text("Curabitur venenatis mauris finibus nisi hendrerit, sed semper lacus.")}),$("#layoutChoice").on("change",function(){"A"==$(this).val()?($("#featuredAssets").css("display","block"),$("#assetsListing").css("display","block")):"B"==$(this).val()?($("#featuredAssets").css("display","block"),$("#assetsListing").css("display","none")):"C"==$(this).val()&&($("#featuredAssets").css("display","none"),$("#assetsListing").css("display","block"))}),$("#socialChoice").on("change",function(){"A"==$(this).val()?$("#widgetsOuterContainer").css("display","block"):"B"==$(this).val()&&$("#widgetsOuterContainer").css("display","none")});var l=$("#videoPlayerContainer>div"),r=(l.attr("id"),l.data("video-id"),l.data("playlist-id"),$("body"));$("#heroChoice").on("change",function(){function e(e){var t=(parseInt(e%1e3/100),parseInt(e/1e3%60)),o=parseInt(e/6e4%60),s=parseInt(e/36e5%24);return s=10>s?"0"+s:s,o=10>o?"0"+o:o,t=10>t?"0"+t:t,1>s?o+":"+t:s+":"+o+":"+t}if("SA"==$(this).val()){if(1==$("#heroPlayerContainer").length){$("#heroPlayerContainer").css("display","none");var t=$('<div id="heroAssetContainer"><a class="m-exitLink" id="heroImage" href="http://searchcloudstorage.techtarget.com/Embedded-Demo-Center-Asset/document/1447267428_342" target="_blank"><div id="heroOverlay"><h2 class="overlayTitle">How Converged Infrastructure Makes IT Easy</h2><p class="overlayCTA">Learn More<i class="icon-lightbulb"></i></p></div><div id="heroImageContainerOuter"><div id="heroImageContainerInner"><img src="http://cdn.ttgtmedia.com/microsites/democenterasset/images/Asset-Hero1.jpg"></div></div></a></div></div>');$(t).insertAfter("#wayFinder")}}else"SV"==$(this).val()?1==$("#heroAssetContainer").length&&($("#heroAssetContainer").css("display","none").removeClass("show"),$("#heroPlaylistContainer, #heroPlaylistInfoContainer").css("display","none").removeClass("show"),videojs("video-1").catalog.getVideo("5214501353001",function(t,o){if(t)console.log("Video error",t);else{var s=o.duration,i=s.toFixed(3),a=i.toString(),l=a.replace(/\./g,""),n=parseInt(l,10);$(".overlayDuration").html('<i class="icon-video-camera"></i> Video: '+e(n)).show(),$(".overlayTitle").html(o.name).show(),$(".overlayCTA").show(),$(".spinner").remove(),videojs("video-1").catalog.load(o),$("#heroImage").on("click tapone",function(){videojs("video-1").catalog.load(o),$("#videoPlayerContainer").addClass("show"),$("#heroImage").addClass("vjs-selected"),$(".vjs-playlist .vjs-playlist-item.vjs-selected .vjs-playlist-thumbnail").addClass("show"),$("#heroOverlay").hide(),videojs("video-1").play(),r.hasClass("header-desktop-fixed")?$("html, body").animate({scrollTop:$("#videoPlayerContainer").offset().top-57},750):r.hasClass("header-mobile-fixed")?$("html, body").animate({scrollTop:$("#videoPlayerContainer").offset().top-60},750):$("html, body").animate({scrollTop:$("#videoPlayerContainer").offset().top-157},750)})}}),$("#heroPlayerContainer").css("display","block")):"MV"==$(this).val()&&($("#heroAssetContainer").css("display","none"),$("#heroPlayerContainer").css("display","block"),videojs("video-1").catalog.getPlaylist("5146939306001",function(e,t){function o(){if($(".vjs-playlist-ad-overlay").remove(),s>10)clearInterval(a);else if($(".vjs-playlist li").length>=2){clearInterval(a),i=!0,$(".bx-wrapper").length<1&&$(".vjs-playlist").bxSlider({minSlides:1,maxSlides:4,infiniteLoop:!1,slideMargin:10,slideWidth:260,moveSlides:1,nextSelector:"#slider-next",prevSelector:"#slider-prev",hideControlOnEnd:!0}),2==$(".vjs-playlist-item").length?($(".vjs-playlist").addClass("twoItems"),$("#heroPlaylistInfoContainer").remove()):3==$(".vjs-playlist-item").length?($(".vjs-playlist,#heroPlaylistInfoContainer").addClass("threeItems"),$(".videoInfo").text($(".vjs-playlist-item").length+" Videos")):4==$(".vjs-playlist-item").length?($(".vjs-playlist,#heroPlaylistInfoContainer").addClass("fourItems"),$(".videoInfo").text($(".vjs-playlist-item").length+" Videos")):($(".vjs-playlist,#heroPlaylistInfoContainer").addClass("manyItems"),$(".videoInfo").text($(".vjs-playlist-item").length+" Videos")),$(".overlayDuration").html('<i class="icon-video-camera"></i> Video: '+$(".vjs-playlist-item:first-child .vjs-playlist-duration").text()),$(".overlayTitle").html($(".vjs-playlist-item:first-child .vjs-playlist-name").text()).show(),$(".overlayCTA").show(),$(".bx-next").html('<i class="icon-play"></i>'),$(".bx-prev").html('<i class="icon-play"></i>'),$(".spinner").remove();var e;for(e=0;e<$(".vjs-playlist-item").length;e++){var o=$(".vjs-playlist-thumbnail img")[e];o.src=t[e].poster}$("#heroPlaylistContainer, #heroPlaylistInfoContainer").fadeIn("fast").addClass("show"),$("#heroImage,.vjs-playlist .vjs-playlist-item").on("click tapone",function(){var e=$(this).index($(this).parent());videojs("video-1").playlist.currentItem(e),$("#videoPlayerContainer").addClass("show"),$("#heroImage").addClass("vjs-selected"),$(".vjs-playlist .vjs-playlist-item.vjs-selected .vjs-playlist-thumbnail").addClass("show"),$("#heroOverlay").hide(),videojs("video-1").play(),r.hasClass("header-desktop-fixed")?$("html, body").animate({scrollTop:$("#videoPlayerContainer").offset().top-57},750):r.hasClass("header-mobile-fixed")?$("html, body").animate({scrollTop:$("#videoPlayerContainer").offset().top-60},750):$("html, body").animate({scrollTop:$("#videoPlayerContainer").offset().top-157},750)}),$(".vjs-playlist .vjs-playlist-item").each(function(){$(this).on("click tapone",function(){$(this).find(".vjs-playlist-thumbnail").addClass("show")})})}s++}if(e)console.log("Playlist error",e);else{videojs("video-1").catalog.load(t);var s=0,i=!1,a=setInterval(function(){o()},1e3)}}))})});